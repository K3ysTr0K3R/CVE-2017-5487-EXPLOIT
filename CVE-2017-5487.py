#!/bin/python3

import json
import requests
import argparse

my_parser = argparse.ArgumentParser(description='')
my_parser.add_argument('-u', '--url', type=str, help='')
args = my_parser.parse_args()
target = args.url

find_wordpress = requests.get(f"{target}").text
if "wp-content" in find_wordpress:
    path = "/wp-json/wp/v2/users"
    url = f"{target}" + path
    response_code = requests.get(url).status_code
    if response_code == 200:
        send_get = requests.get(url).text
        json_format = json.loads(send_get)
        print("-----------------------")
        print("    WordPress USERS    ")
        print("-----------------------")
        for users in json_format:
            print("[+]", users['slug'])
        print("-----------------------")
    else:
        print("No Users")
        exit()
else:
    print("No Users")
    exit()
